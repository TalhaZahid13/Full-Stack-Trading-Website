{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web-Development\\\\TradingApplication\\\\frontend\\\\src\\\\components\\\\Orders\\\\CreateOrder.jsx\",\n  _s = $RefreshSig$();\n// src/pages/PortfolioScreen.jsx\nimport React, { useEffect, useState } from 'react';\nimport axios from '../api/axios';\nimport { Paper, Table, TableHead, TableRow, TableCell, TableBody, Typography } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PortfolioScreen = () => {\n  _s();\n  const [portfolio, setPortfolio] = useState([]);\n  useEffect(() => {\n    const fetchPortfolio = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.get('/portfolio', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const data = Array.isArray(response.data) ? response.data : [];\n        const formatted = data.map(item => {\n          const avgBuyPrice = parseFloat(item.avgBuyPrice) || 0;\n          const marketValue = parseFloat(item.marketValue) || 0;\n          const quantity = parseFloat(item.qty) || 0;\n          const buyValue = avgBuyPrice * quantity;\n          const profitLoss = marketValue - buyValue;\n          return {\n            ...item,\n            avgBuyPrice,\n            marketValue,\n            quantity,\n            profitLoss\n          };\n        });\n        setPortfolio(formatted);\n      } catch (error) {\n        console.error('Failed to load portfolio:', error.message);\n      }\n    };\n    fetchPortfolio();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    style: {\n      padding: 16,\n      marginTop: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"My Portfolio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Symbol\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Avg. Buy Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Market Value\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Total P/L\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: portfolio.map((row, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: row.symbol\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: row.quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: [\"$\", row.avgBuyPrice.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: [\"$\", row.marketValue.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            style: {\n              color: row.profitLoss >= 0 ? 'green' : 'red'\n            },\n            children: [\"$\", row.profitLoss.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(PortfolioScreen, \"JUWCxLctigURiH8LJaFC6fWlR1Q=\");\n_c = PortfolioScreen;\nexport default PortfolioScreen;\nvar _c;\n$RefreshReg$(_c, \"PortfolioScreen\");","map":{"version":3,"names":["React","useEffect","useState","axios","Paper","Table","TableHead","TableRow","TableCell","TableBody","Typography","jsxDEV","_jsxDEV","PortfolioScreen","_s","portfolio","setPortfolio","fetchPortfolio","token","localStorage","getItem","response","get","headers","Authorization","data","Array","isArray","formatted","map","item","avgBuyPrice","parseFloat","marketValue","quantity","qty","buyValue","profitLoss","error","console","message","style","padding","marginTop","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","row","index","symbol","toFixed","color","_c","$RefreshReg$"],"sources":["D:/Web-Development/TradingApplication/frontend/src/components/Orders/CreateOrder.jsx"],"sourcesContent":["// src/pages/PortfolioScreen.jsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from '../api/axios';\r\nimport { Paper, Table, TableHead, TableRow, TableCell, TableBody, Typography } from '@mui/material';\r\n\r\nconst PortfolioScreen = () => {\r\n  const [portfolio, setPortfolio] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchPortfolio = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const response = await axios.get('/portfolio', {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        const data = Array.isArray(response.data) ? response.data : [];\r\n\r\n        const formatted = data.map((item) => {\r\n          const avgBuyPrice = parseFloat(item.avgBuyPrice) || 0;\r\n          const marketValue = parseFloat(item.marketValue) || 0;\r\n          const quantity = parseFloat(item.qty) || 0;\r\n          const buyValue = avgBuyPrice * quantity;\r\n          const profitLoss = marketValue - buyValue;\r\n\r\n          return {\r\n            ...item,\r\n            avgBuyPrice,\r\n            marketValue,\r\n            quantity,\r\n            profitLoss,\r\n          };\r\n        });\r\n\r\n        setPortfolio(formatted);\r\n      } catch (error) {\r\n        console.error('Failed to load portfolio:', error.message);\r\n      }\r\n    };\r\n\r\n    fetchPortfolio();\r\n  }, []);\r\n\r\n  return (\r\n    <Paper style={{ padding: 16, marginTop: 20 }}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        My Portfolio\r\n      </Typography>\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Symbol</TableCell>\r\n            <TableCell>Quantity</TableCell>\r\n            <TableCell>Avg. Buy Price</TableCell>\r\n            <TableCell>Market Value</TableCell>\r\n            <TableCell>Total P/L</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {portfolio.map((row, index) => (\r\n            <TableRow key={index}>\r\n              <TableCell>{row.symbol}</TableCell>\r\n              <TableCell>{row.quantity}</TableCell>\r\n              <TableCell>${row.avgBuyPrice.toFixed(2)}</TableCell>\r\n              <TableCell>${row.marketValue.toFixed(2)}</TableCell>\r\n              <TableCell\r\n                style={{\r\n                  color: row.profitLoss >= 0 ? 'green' : 'red',\r\n                }}\r\n              >\r\n                ${row.profitLoss.toFixed(2)}\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default PortfolioScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}